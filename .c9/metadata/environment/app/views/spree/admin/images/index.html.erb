{"changed":true,"filter":false,"title":"index.html.erb","tooltip":"/app/views/spree/admin/images/index.html.erb","value":"<%= render partial: 'spree/admin/shared/product_tabs', locals: { current: :images } %>\n\n<% content_for :page_actions do %>\n  <div class=\"page-actions col-6 pr-0\" data-hook=\"toolbar\">\n    <%= yield :page_actions %>\n  </div>\n  <%= product_preview_link(@product) %>\n  <%= button_link_to(Spree.t(:new_image), spree.new_admin_product_image_url(@product), { class: \"btn-success\", icon: 'add', id: 'new_image_link' }) if can? :create, Spree::Image %>\n<% end %>\n\n<% has_variants = @product.has_variants? %>\n\n<% unless @product.variant_images.any? %>\n  <div class=\"alert alert-warning\">\n    <%= Spree.t(:no_resource_found, resource: plural_resource_name(Spree::Image)) %>.\n  </div>\n<% else %>\n  <table class=\"table sortable\" data-hook=\"images_table\" data-sortable-link=\"<%= update_positions_admin_product_images_url(@product) %>\">\n    <thead>\n      <tr data-hook=\"images_header\">\n        <th colspan=\"2\">\n          <%= Spree.t(:thumbnail) %>\n        </th>\n        <% if has_variants %>\n          <th>\n            <%= Spree::Variant.model_name.human %>\n          </th>\n        <% end %>\n        <th>\n          <%= Spree.t(:alt_text) %>\n        </th>\n        <th class=\"actions\"></th>\n      </tr>\n    </thead>\n\n    <tbody>\n      <% (@product.variant_images).each do |image| %>\n        <tr id=\"<%= spree_dom_id image %>\" data-hook=\"images_row\">\n          <td class=\"move-handle text-center\">\n            <% if can? :edit, image %>\n              <span class=\"icon icon-move handle\"></span>\n            <% end %>\n          </td>\n          <td class=\"image\">\n            <%= link_to image_tag(main_app.url_for(image.url(:mini))), main_app.rails_blob_url(image.attachment) %>\n          </td>\n          <% if has_variants %>\n            <td><%= options_text_for(image) %></td>\n          <% end %>\n          <td><%= image.alt %></td>\n          <td class=\"actions actions-2 text-right\">\n            <%= link_to_with_icon('edit', Spree.t(:edit), spree.edit_admin_product_image_url(@product, image), class: 'btn btn-primary btn-sm', no_text: true, data: { action: 'edit' }) if can? :edit, image %>\n            <%= link_to_delete(image, { url: spree.admin_product_image_url(@product, image), no_text: true }) if can? :destroy, image %>\n          </td>\n        </tr>\n      <% end %>\n    </tbody>\n  </table>\n<% end %>\n","undoManager":{"mark":0,"position":-1,"stack":[[{"start":{"row":18,"column":2},"end":{"row":33,"column":12},"action":"remove","lines":["  <thead>","      <tr data-hook=\"images_header\">","        <th colspan=\"2\">","          <%= Spree.t(:thumbnail) %>","        </th>","        <% if has_variants %>","          <th>","            <%= Spree::Variant.model_name.human %>","          </th>","        <% end %>","        <th>","          <%= Spree.t(:alt_text) %>","        </th>","        <th class=\"actions\"></th>","      </tr>","    </thead>"],"id":4}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":39,"column":38},"end":{"row":39,"column":38},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1585831435353}